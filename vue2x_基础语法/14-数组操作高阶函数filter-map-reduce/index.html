<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script>

    // 数组操作高阶函数
    // filter
    // map
    // reduce
    // 什么是高阶函数, 高阶函数指,函数本身可能需要一些函数类型的参数

    const nums = [200, 120, 19, 60, 10, 20, 40,100];

    // filter 中的回调函数有一个要求:
    // 必须返回一个boolean值
    // 当,返回 true时的, 内部会将这次遍历的元素放入一个新的数组汇总\
    // 当,返回false时, 内部会过滤掉当前遍历的元素\

   const arr_100 = nums.filter((num)=>{
        // 取出 > 100 的数, 放入新数组
        return num > 100
    })
    console.log(arr_100);

    // map
    // 如果需要对数组里面的所有元素进行处理, 得到一个新的数组就可以 使用map
    // map 函数也是需要一个函数类型的参数
    const arr_map = nums.map((num)=>{
        return num + '元'
    })
    console.log(arr_map);


    // reduce 对数组中的所有内容进行汇总
    // 可以把reduce函数理解成一个迭代函数
    // 1. reduce 函数有2个参数, 第一个是 迭代回调参数,是一个函数类型(有两个参数 previous 和 current)
    // 2. 第二个参数是初始化参数
    // 3. 第一个迭代参数, 第一次回调时 previous 就是初始化参数, 后面的每次回调就是 return返回的值

    const arr = [10,20,30,40]
    const  initParam = 1
    let total = arr.reduce((previousItem, currentItem)=>{
        console.log('pre: ' +  previousItem, 'current: +' + currentItem);
        return previousItem + currentItem;
    }, initParam)
    console.log('total: ' +  total);





    // 高阶函数 filter map  和 reduce 的综合使用
    const counters = [1,2,3,4,5,6,7,8,9,10];
    let totalCount = counters.filter((count)=>{

        return count%2 == 0
    }).map((doubleCount)=>{
        return doubleCount * 2;
    }).reduce((pre, current)=>{
        return pre + current
    },0)
    console.log('zongshu: ', totalCount);


</script>
</body>
</html>